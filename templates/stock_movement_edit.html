{% extends 'base.html' %}

{% block content %}
<h2>入出庫履歴の編集</h2>
<form method="post">
    <label for="product_id">商品</label>
    <select name="product_id" required>
        {% for product in products %}
        <option value="{{ product['id'] }}" {% if product['id'] == movement['product_id'] %}selected{% endif %}>{{ product['name'] }}</option>
        {% endfor %}
    </select>

    <label for="quantity">数量</label>
    <input type="number" name="quantity" value="{{ movement['quantity'] }}" required>

    <label for="staff_id">担当者</label>
    <select name="staff_id" required>
        {% for s in staff %}
        <option value="{{ s['id'] }}" {% if s['id'] == movement['staff_id'] %}selected{% endif %}>{{ s['name'] }}</option>
        {% endfor %}
    </select>

    <label for="movement_type">動作タイプ</label>
    <select name="movement_type" required>
        <option value="入庫" {% if movement['movement_type'] == '入庫' %}selected{% endif %}>入庫</option>
        <option value="出庫" {% if movement['movement_type'] == '出庫' %}selected{% endif %}>出庫</option>
    </select>

    <input type="submit" value="更新">
</form>
{% endblock %}
